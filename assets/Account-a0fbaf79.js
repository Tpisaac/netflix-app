import{r as a,U as f,o as u,d as c,a as r,j as e,u as v}from"./index-71bcf27d.js";import{G as m,M as g,a as b}from"./index.esm-201bb8c9.js";function w(o){return m({tag:"svg",attr:{viewBox:"0 0 1024 1024"},child:[{tag:"path",attr:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 0 0 203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]})(o)}const j=()=>{const[o,i]=a.useState([]),{user:t}=f(),d=()=>{var s=document.getElementById("slider");s.scrollLeft=s.scrollLeft-500},n=()=>{var s=document.getElementById("slider");s.scrollLeft=s.scrollLeft+500};a.useEffect(()=>{u(c(r,"users",`${t==null?void 0:t.email}`),s=>{var l;i((l=s.data())==null?void 0:l.savedMovies)})},[t==null?void 0:t.email]);const h=c(r,"users",`${t==null?void 0:t.email}`),x=async s=>{try{const l=o.filter(p=>p.id!==s);await v(h,{savedMovies:l})}catch(l){console.log(l)}};return e.jsxs("div",{children:[e.jsx("h2",{className:"text-white font-bold md:text-xl p-4",children:"My movies"}),e.jsxs("div",{className:"relative flex items-center group",children:[e.jsx(g,{onClick:d,size:40,className:"bg-white left-0 rounded-full absolute opacity-50 hover:opacity-95 cursor-pointer z-10 hidden group-hover:block"}),e.jsx("div",{id:"slider",className:"w-full h-full overflow-x-scroll whitespace-nowrap scroll-smooth scrollbar-hide relative",children:o.map((s,l)=>e.jsxs("div",{className:"w-[160px] sm:w-[200px] md:w-[240px] lg:w-[280px] inline-block cursor-pointer relative p-2",children:[e.jsx("img",{className:"w-full h-auto block",src:`https://image.tmdb.org/t/p/w500/${s==null?void 0:s.img}`,alt:s==null?void 0:s.title}),e.jsxs("div",{className:"absolute top-0 left-0 w-full h-full hover:bg-black/80 opacity-0 hover:opacity-100 text-white",children:[e.jsx("p",{className:"whitespace-normal text-xs md:text-sm font-bold flex justify-center items-center h-full text-center",children:s==null?void 0:s.title}),e.jsx("p",{onClick:()=>x(s.id),className:"absolute text-gray-200 top-4 right-4",children:e.jsx(w,{})})]})]},l))}),e.jsx(b,{onClick:n,size:40,className:"bg-white right-0 rounded-full absolute opacity-50 hover:opacity-95 cursor-pointer z-10 hidden group-hover:block"})]})]})},M=()=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"w-full text-white",children:[e.jsx("img",{className:"w-full h-[400px] object-cover",src:"https://assets.nflxext.com/ffe/siteui/vlv3/855ed6e2-d9f1-4afd-90da-96023ec747c3/884d76bc-9b8d-4a24-846f-b31d4f6f1057/GB-en-20230828-popsignuptwoweeks-perspective_alpha_website_medium.jpg",alt:"/"}),e.jsx("div",{className:"bg-black/40 fixed top-0 left-0 w-full h-[550px]"}),e.jsx("div",{className:"absolute top-[20%] p-4 md:p-8",children:e.jsx("h1",{className:"text-3xl md:text-5xl font-bold",children:"My Movies"})})]}),e.jsx("div",{children:e.jsx(j,{})})]});export{M as default};
